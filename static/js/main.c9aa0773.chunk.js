(this.webpackJsonpscrumpoker=this.webpackJsonpscrumpoker||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(16),o=n.n(s),l=n(6),i=n(2),u=n(5),d=n(3),j=n(12),m=n(8),b=n.n(m);var f=function(e){var t=e.className,n=Object(j.a)(e,["className"]),a=Object(r.useState)(document.documentElement.classList.contains("dark")),s=Object(d.a)(a,2),o=s[0],l=s[1];return Object(c.jsxs)("button",Object(u.a)(Object(u.a)({type:"button",className:b()(t,"absolute top-4 right-4 w-16 h-8 rounded-full border-2 border-yellow-300 dark:border-gray-500 focus:outline-none transition duration-300"),onClick:function(){o?(l(!1),localStorage.theme="light",document.documentElement.classList.remove("dark")):(l(!0),localStorage.theme="dark",document.documentElement.classList.add("dark"))}},n),{},{children:[Object(c.jsx)("span",{className:b()("absolute top-0 right-2 leading-7",!o&&"hidden"),children:"\ud83c\udf19"}),Object(c.jsx)("span",{className:b()("absolute top-0 left-2 leading-7",o&&"hidden"),children:"\u2600\ufe0f"}),Object(c.jsx)("span",{className:b()("absolute top-1 left-1 h-5 w-5 rounded-full border-2 border-yellow-300 bg-yellow-100 dark:border-gray-500 dark:bg-gray-400 transform duration-300 transition",!o&&"translate-x-8")})]}))},p=n(15),h=n.n(p),x=n(17);var O=function(e){var t=e.className,n=e.filled,r=Object(j.a)(e,["className","filled"]);return Object(c.jsx)("button",Object(u.a)({type:"button",className:b()(t,"w-44 h-64 flex flex-col items-center justify-center border-indigo-500 border-4 rounded-3xl text-10xl font-serif focus:outline-none",n?"bg-indigo-500 text-white":"text-indigo-500 dark:bg-gray-900")},r))};var g=function(){var e=Object(i.g)(),t=e.roomId,n=e.name,a=Object(r.useState)(0),s=Object(d.a)(a,2),o=s[0],l=s[1],u=Object(r.useState)(),j=Object(d.a)(u,2),m=j[0],b=j[1];function f(){return(f=Object(x.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://scrumpoker-api.herokuapp.com","/").concat(t,"/estimation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:o,estimate:n})});case 2:b(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=new EventSource("".concat("https://scrumpoker-api.herokuapp.com","/").concat(t,"/participant?name=").concat(n));return e.onmessage=function(e){l(JSON.parse(e.data)),b(void 0)},function(){return e.close()}}),[t,n]),Object(c.jsx)("div",{className:"h-full flex items-center justify-center",children:[0,1,2,3,5,8].map((function(e){return Object(c.jsx)(O,{className:"mx-4",onClick:function(){return function(e){return f.apply(this,arguments)}(e)},filled:e===m,children:e},e)}))})},v=n(13),y={dictionaries:[v.a,v.b],separator:"-"};function N(){return Object(v.c)(y)}var k,w=function(){var e=Object(i.f)(),t=Object(r.useState)([]),n=Object(d.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){var e=new EventSource("".concat("https://scrumpoker-api.herokuapp.com","/guest"));return e.onmessage=function(e){s(JSON.parse(e.data))},function(){return e.close()}}),[]),Object(c.jsx)("div",{className:"h-full flex flex-col items-center justify-center",children:Boolean(null===a||void 0===a?void 0:a.length)?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"text-4xl",children:"Join a room"}),Object(c.jsx)("div",{className:"my-16 flex items-end",children:a.map((function(t){return Object(c.jsxs)("div",{className:"mx-4 flex flex-col w-44",children:[Object(c.jsx)("p",{className:"mb-2 text-center",children:t.id}),Object(c.jsxs)(O,{onClick:function(){return e("/".concat(t.id))},children:[t.spectators.length>0&&Object(c.jsxs)("p",{className:"text-sm mb-4",children:[t.spectators.length," ",1===t.spectators.length?"Spectator":"Spectators"]}),t.participants.map((function(e){return Object(c.jsx)("p",{className:"text-sm",children:e.name},e.id)}))]})]},t.id)}))}),Object(c.jsxs)("p",{className:"text-4xl",children:["Or"," ",Object(c.jsx)(l.b,{className:"text-indigo-500",to:"/".concat(N()),children:"create a new one"})]})]}):Object(c.jsxs)("p",{className:"text-4xl",children:[Object(c.jsx)(l.b,{className:"text-indigo-500",to:"/".concat(N()),children:"Create a room"})," ","to start estimating"]})})},S=["title","titleId"];function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J(e,t){var n=e.title,c=e.titleId,a=I(e,S);return r.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,k||(k=r.createElement("path",{d:"M13.5 2c-5.288 0-9.649 3.914-10.377 9h-3.123l4 5.917 4-5.917h-2.847c.711-3.972 4.174-7 8.347-7 4.687 0 8.5 3.813 8.5 8.5s-3.813 8.5-8.5 8.5c-3.015 0-5.662-1.583-7.171-3.957l-1.2 1.775c1.916 2.536 4.948 4.182 8.371 4.182 5.797 0 10.5-4.702 10.5-10.5s-4.703-10.5-10.5-10.5z"})))}var C=r.forwardRef(J);n.p;var P=function(){var e=Object(i.f)(),t=Object(i.g)().roomId,n=Object(r.useState)([]),a=Object(d.a)(n,2),s=a[0],o=a[1],l=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=new EventSource("".concat("https://scrumpoker-api.herokuapp.com","/").concat(t,"/spectator"));return e.onmessage=function(e){o(JSON.parse(e.data))},function(){return e.close()}}),[t]);var u=s.every((function(e){return"number"===typeof e.estimate}));return Object(c.jsxs)("div",{className:"h-full flex flex-col items-center justify-evenly",children:[Object(c.jsxs)("form",{className:"flex",onSubmit:function(n){var c,r;n.preventDefault(),e("/".concat(t,"/").concat(null!==(c=null===(r=l.current)||void 0===r?void 0:r.value)&&void 0!==c?c:""))},children:[Object(c.jsx)("input",{className:"rounded-l-lg border-green-500 border-2 text-gray-900 focus:outline-none",ref:l,name:"name",type:"text",placeholder:"Name"}),Object(c.jsx)("button",{className:"rounded-r-lg bg-green-500 px-8 text-white font-bold focus:outline-none",type:"submit",children:"Join"})]}),Object(c.jsxs)("div",{className:"flex",children:[0===s.length&&Object(c.jsx)("p",{children:"No one has joined yet."}),s.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(O,{className:"mx-4",filled:"number"===typeof e.estimate,children:u&&e.estimate}),Object(c.jsx)("p",{className:"mt-4 text-xl text-center",children:e.name})]},e.id)}))]}),Object(c.jsx)("button",{className:"focus:outline-none",type:"button",onClick:function(){fetch("".concat("https://scrumpoker-api.herokuapp.com","/").concat(t,"/reset"),{method:"POST"})},children:Object(c.jsx)(C,{className:"w-8 h-8 text-green-500 fill-current"})})]})};var B=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(i.c,{children:[Object(c.jsx)(i.a,{path:":roomId",element:Object(c.jsx)(P,{})}),Object(c.jsx)(i.a,{path:":roomId/:name",element:Object(c.jsx)(g,{})}),Object(c.jsx)(i.a,{path:"*",element:Object(c.jsx)(w,{})})]}),Object(c.jsx)(f,{})]})};n(24);o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(l.a,{basename:"/scrumpoker",children:Object(c.jsx)(B,{})})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.c9aa0773.chunk.js.map