(this.webpackJsonpscrumpoker=this.webpackJsonpscrumpoker||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),o=n(8),l=n.n(o),s=n(3),i=n(7),u=n.n(i),f=n(2),b=n(9),j=n(5),d=n(4),m=n.n(d);var p=function(e){var t=e.className,n=e.value,r=e.filled,a=Object(j.a)(e,["className","value","filled"]);return Object(c.jsx)("button",Object(f.a)(Object(f.a)({type:"button",className:m()(t,"mx-4 w-44 h-64 flex items-center justify-center border-indigo-500 border-4 rounded-3xl text-10xl font-serif focus:outline-none",r?"bg-indigo-500 text-white":"text-indigo-500")},a),{},{children:n}))};var O=function(e){var t=e.className,n=e.name,a=Object(j.a)(e,["className","name"]),o=Object(r.useState)(0),l=Object(s.a)(o,2),i=l[0],d=l[1],O=Object(r.useState)(),h=Object(s.a)(O,2),v=h[0],x=h[1];function y(){return(y=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3001","/estimation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,value:t})});case 2:x(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=new EventSource("".concat("http://localhost:3001","/participant?name=").concat(encodeURIComponent(n)));return e.onmessage=function(e){d(JSON.parse(e.data)),x()},function(){return e.close()}}),[n]),Object(c.jsx)("div",Object(f.a)(Object(f.a)({className:m()(t,"h-full flex items-center justify-center")},a),{},{children:[0,1,2,3,5,8].map((function(e){return Object(c.jsx)(p,{value:e,onClick:function(){return function(e){return y.apply(this,arguments)}(e)},filled:e===v,children:e},e)}))}))};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=r.createElement("path",{d:"M13.5 2c-5.288 0-9.649 3.914-10.377 9h-3.123l4 5.917 4-5.917h-2.847c.711-3.972 4.174-7 8.347-7 4.687 0 8.5 3.813 8.5 8.5s-3.813 8.5-8.5 8.5c-3.015 0-5.662-1.583-7.171-3.957l-1.2 1.775c1.916 2.536 4.948 4.182 8.371 4.182 5.797 0 10.5-4.702 10.5-10.5s-4.703-10.5-10.5-10.5z"});function y(e,t){var n=e.title,c=e.titleId,a=v(e,["title","titleId"]);return r.createElement("svg",h({width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,x)}var N=r.forwardRef(y);n.p;var g=function(e){var t=e.className,n=e.onSubmitName,a=Object(j.a)(e,["className","onSubmitName"]),o=Object(r.useState)([]),l=Object(s.a)(o,2),i=l[0],u=l[1],b=Object(r.useRef)();Object(r.useEffect)((function(){var e=new EventSource("".concat("http://localhost:3001","/spectator"));return e.onmessage=function(e){u(JSON.parse(e.data))},function(){return e.close()}}),[]);var d=i.every((function(e){return"number"===typeof e.value}));return Object(c.jsxs)("div",Object(f.a)(Object(f.a)({className:m()(t,"h-full flex flex-col items-center justify-evenly")},a),{},{children:[Object(c.jsxs)("form",{className:"flex",onSubmit:function(e){e.preventDefault(),n(b.current.value)},children:[Object(c.jsx)("input",{className:"rounded-l-lg border-green-500 border-2 focus:outline-none",ref:b,name:"name",type:"text",placeholder:"Name"}),Object(c.jsx)("button",{className:"rounded-r-lg bg-green-500 px-8 text-white font-bold focus:outline-none",type:"submit",children:"Join"})]}),Object(c.jsxs)("div",{className:"flex",children:[0===i.length&&Object(c.jsx)("p",{children:"No one has joined yet."}),i.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(p,{value:d&&e.value,filled:"number"===typeof e.value}),Object(c.jsx)("p",{className:"mt-4 text-xl text-center",children:e.participant.name})]},e.participant.id)}))]}),Object(c.jsx)("button",{className:"focus:outline-none",type:"button",onClick:function(){fetch("".concat("http://localhost:3001","/reset"),{method:"POST"})},children:Object(c.jsx)(N,{className:"w-8 h-8 text-green-500 fill-current"})})]}))};var S=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1];return n?Object(c.jsx)(O,{name:n}):Object(c.jsx)(g,{onSubmitName:a})};n(16);l.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(S,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.4b59900b.chunk.js.map