(this.webpackJsonpscrumpoker=this.webpackJsonpscrumpoker||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),o=n(8),s=n.n(o),i=n(3),l=n(2),u=n(5),m=n(4),d=n.n(m);var b=function(e){var t=e.className,n=Object(u.a)(e,["className"]),a=Object(c.useState)(document.documentElement.classList.contains("dark")),o=Object(i.a)(a,2),s=o[0],m=o[1];return Object(r.jsxs)("button",Object(l.a)(Object(l.a)({type:"button",className:d()(t,"absolute top-4 right-4 w-16 h-8 rounded-full border-2 border-yellow-300 dark:border-gray-500 focus:outline-none transition duration-300"),onClick:function(){s?(m(!1),localStorage.theme="light",document.documentElement.classList.remove("dark")):(m(!0),localStorage.theme="dark",document.documentElement.classList.add("dark"))}},n),{},{children:[Object(r.jsx)("span",{className:d()("absolute top-0 right-2 leading-7",!s&&"hidden"),children:"\ud83c\udf19"}),Object(r.jsx)("span",{className:d()("absolute top-0 left-2 leading-7",s&&"hidden"),children:"\u2600\ufe0f"}),Object(r.jsx)("span",{className:d()("absolute top-1 left-1 h-5 w-5 rounded-full border-2 border-yellow-300 bg-yellow-100 dark:border-gray-500 dark:bg-gray-400 transform duration-300 transition",!s&&"translate-x-8")})]}))},j=n(7),f=n.n(j),p=n(9);var O=function(e){var t=e.className,n=e.filled,c=Object(u.a)(e,["className","filled"]);return Object(r.jsx)("button",Object(l.a)({type:"button",className:d()(t,"mx-4 w-44 h-64 flex flex-col items-center justify-center border-indigo-500 border-4 rounded-3xl text-10xl font-serif focus:outline-none",n?"bg-indigo-500 text-white":"text-indigo-500 dark:bg-gray-900")},c))};var h=function(e){var t=e.className,n=e.roomId,a=e.name,o=Object(u.a)(e,["className","roomId","name"]),s=Object(c.useState)(0),m=Object(i.a)(s,2),b=m[0],j=m[1],h=Object(c.useState)(),x=Object(i.a)(h,2),v=x[0],g=x[1];function y(){return(y=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://scrumpoker-api.herokuapp.com","/").concat(n,"/estimation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,estimate:t})});case 2:g(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e=new EventSource("".concat("https://scrumpoker-api.herokuapp.com","/").concat(n,"/participant?name=").concat(encodeURIComponent(a)));return e.onmessage=function(e){j(JSON.parse(e.data)),g()},function(){return e.close()}}),[n,a]),Object(r.jsx)("div",Object(l.a)(Object(l.a)({className:d()(t,"h-full flex items-center justify-center")},o),{},{children:[0,1,2,3,5,8].map((function(e){return Object(r.jsx)(O,{onClick:function(){return function(e){return y.apply(this,arguments)}(e)},filled:e===v,children:e},e)}))}))};function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var g=c.createElement("path",{d:"M13.5 2c-5.288 0-9.649 3.914-10.377 9h-3.123l4 5.917 4-5.917h-2.847c.711-3.972 4.174-7 8.347-7 4.687 0 8.5 3.813 8.5 8.5s-3.813 8.5-8.5 8.5c-3.015 0-5.662-1.583-7.171-3.957l-1.2 1.775c1.916 2.536 4.948 4.182 8.371 4.182 5.797 0 10.5-4.702 10.5-10.5s-4.703-10.5-10.5-10.5z"});function y(e,t){var n=e.title,r=e.titleId,a=v(e,["title","titleId"]);return c.createElement("svg",x({width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,g)}var N=c.forwardRef(y);n.p;var S=function(e){var t=e.className,n=e.roomId,a=e.onSubmitName,o=Object(u.a)(e,["className","roomId","onSubmitName"]),s=Object(c.useState)([]),m=Object(i.a)(s,2),b=m[0],j=m[1],f=Object(c.useRef)();Object(c.useEffect)((function(){var e=new EventSource("".concat("https://scrumpoker-api.herokuapp.com","/").concat(n,"/spectator"));return e.onmessage=function(e){j(JSON.parse(e.data))},function(){return e.close()}}),[n]);var p=b.every((function(e){return"number"===typeof e.estimate}));return Object(r.jsxs)("div",Object(l.a)(Object(l.a)({className:d()(t,"h-full flex flex-col items-center justify-evenly")},o),{},{children:[Object(r.jsxs)("form",{className:"flex",onSubmit:function(e){e.preventDefault(),a(f.current.value)},children:[Object(r.jsx)("input",{className:"rounded-l-lg border-green-500 border-2 focus:outline-none",ref:f,name:"name",type:"text",placeholder:"Name"}),Object(r.jsx)("button",{className:"rounded-r-lg bg-green-500 px-8 text-white font-bold focus:outline-none",type:"submit",children:"Participate"})]}),Object(r.jsxs)("div",{className:"flex",children:[0===b.length&&Object(r.jsx)("p",{children:"No one has joined yet."}),b.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{filled:"number"===typeof e.estimate,children:p&&e.estimate}),Object(r.jsx)("p",{className:"mt-4 text-xl text-center",children:e.name})]},e.id)}))]}),Object(r.jsx)("button",{className:"focus:outline-none",type:"button",onClick:function(){fetch("".concat("https://scrumpoker-api.herokuapp.com","/").concat(n,"/reset"),{method:"POST"})},children:Object(r.jsx)(N,{className:"w-8 h-8 text-green-500 fill-current"})})]}))};var k=function(e){var t=e.roomId,n=Object(c.useState)(""),a=Object(i.a)(n,2),o=a[0],s=a[1];return o?Object(r.jsx)(h,{roomId:t,name:o}):Object(r.jsx)(S,{roomId:t,onSubmitName:s})};var w=function(e){var t=e.className,n=e.onSubmitRoomId,a=Object(u.a)(e,["className","onSubmitRoomId"]),o=Object(c.useState)(),s=Object(i.a)(o,2),m=s[0],b=s[1];return Object(c.useEffect)((function(){var e=new EventSource("".concat("https://scrumpoker-api.herokuapp.com","/guest"));return e.onmessage=function(e){b(JSON.parse(e.data))},function(){return e.close()}}),[]),Object(r.jsxs)("div",Object(l.a)(Object(l.a)({className:d()(t,"h-full flex flex-col items-center justify-center")},a),{},{children:[Object(r.jsx)("p",{className:"text-4xl",children:Boolean(null===m||void 0===m?void 0:m.length)?"Choose a room or create a new one":"Create a room to start estimating"}),Object(r.jsxs)("div",{className:"mt-24 flex",children:[null===m||void 0===m?void 0:m.map((function(e){return Object(r.jsxs)(O,{onClick:function(){return n(e.id)},children:[e.spectators.length>0&&Object(r.jsxs)("p",{className:"text-sm mb-4",children:[e.spectators.length," ",1===e.spectators.length?"Spectator":"Spectators"]}),e.participants.map((function(e){return Object(r.jsx)("p",{className:"text-sm",children:e.name},e.id)}))]},e.id)})),Object(r.jsx)(O,{onClick:function(){return n(Date.now())},children:"+"})]})]}))};var I=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)(r.Fragment,{children:[n?Object(r.jsx)(k,{roomId:n}):Object(r.jsx)(w,{onSubmitRoomId:a}),Object(r.jsx)(b,{})]})};n(16);s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.9b79a3ce.chunk.js.map